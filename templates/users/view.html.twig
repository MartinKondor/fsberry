{% extends 'layout/base.html.twig' %}

{% block title %}{{ viewUser.firstName ~' '~ viewUser.lastName }}{% endblock %}
{% block stylesheets %}{% endblock %}

{% block body %}
<section class="row mt-2 mb-2 animated fadeIn">
   <div class="col-sm user-card-profile mb-5">
      <img title="Profile picture of {{ viewUser.firstName ~' '~ viewUser.lastName }}"รณ
         src="{{ asset('images/profiles/' ~ viewUser.profilePic) }}"
         alt="Profile picture of {{ viewUser.firstName ~' '~ viewUser.lastName }},">
   </div>
   <div class="col-sm mt-5">
      {% if viewUser.friendStatus == 'friends' or viewUser.userId == app.user.userId %}
          <p class="text-uppercase font-weight-bold">{{ viewUser.birthDate | date('Y-m-d') }}</p>
          <p class="text-uppercase font-weight-bold">{{ viewUser.gender }}</p>
      {% elseif viewUser.friendStatus == 'request' %}
          <button class="btn btn-primary disabled" href="#" disabled>
              Friend request sent
          </button>
      {% else %}
          <button class="btn btn-primary add-friend-btn" href="{{ path('add_friend', { user2Id: viewUser.userId }) }}">
            Add Friend
          </button>
      {% endif %}
   </div>
   <div class="col-sm user-card-info mt-5">
      <h1 class="font-weight-bold user-name">{{ viewUser.firstName ~' '~ viewUser.lastName }}</h1>
      <p>{{ viewUser.about }}</p>
   </div>
</section>
<section class="row text-center">
   <div class="col-sm-4">
      <section id="friend-list">
         <h4 class="text-muted font-weight-bold h4 mt-5 mb-4">Friends</h4>
         {% if viewUser.friends is defined %}
            <ul class="text-left animated bounceInLeft" style="list-style:none;">
            {% for friend in viewUser.friends %}
               <li class="friend-list-item">
                  <a href="{{ path('view_user', { permalink: friend.permalink }) }}">
                     <img class="m-profile" src="{{ asset('images/profiles/' ~ friend.profile_pic) }}" alt="Profile picture of {{ friend.first_name ~ ' ' ~ friend.last_name }},">
                     <span> &middot; {{ friend.first_name ~ ' ' ~ friend.last_name }}</span>
                  </a>
               </li>
            {% endfor %}
            </ul>
         {% endif %}
      </section>
   </div>
   <div class="col-sm-8">
      <h4 class="text-muted font-weight-bold h4 mt-5 mb-4">Posts</h4>
      <section id="post-list">
         {% if viewUser.posts is defined %}
            <ul class="text-left" style="list-style:none;">
            {% for post in viewUser.posts %}
                {% include 'elements/post.html.twig' %}
            {% endfor %}
            </ul>
         {% endif %}
      </section>
   </div>
</section>
{% endblock %}

{% block javascripts %}{% endblock %}